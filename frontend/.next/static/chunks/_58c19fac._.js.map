{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/MERN/relasto/frontend/src/components/ProtectedRoute.tsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useAuthStore } from \"@/stores/authStore\";\r\n\r\ninterface ProtectedRouteProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport default function ProtectedRoute({ children }: ProtectedRouteProps) {\r\n  const { user, fetchProfile, loading } = useAuthStore();\r\n  const router = useRouter();\r\n  const [isChecking, setIsChecking] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const checkAuth = async () => {\r\n      try {\r\n        // If no user in store, try to fetch profile from backend\r\n        if (!user) {\r\n          await fetchProfile();\r\n        }\r\n      } catch (error) {\r\n        // If fetchProfile fails, redirect to login\r\n        router.push(\"/auth/login\");\r\n        return;\r\n      } finally {\r\n        setIsChecking(false);\r\n      }\r\n    };\r\n\r\n    checkAuth();\r\n  }, [user, router, fetchProfile]);\r\n\r\n  // Show loading while checking authentication\r\n  if (isChecking || loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600\">Loading...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // If no user after checking, show loading (will redirect)\r\n  if (!user) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600\">Redirecting to login...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <>{children}</>;\r\n} "],"names":[],"mappings":";;;;AACA;AACA;AACA;;;AAHA;;;;AASe,SAAS,eAAe,EAAE,QAAQ,EAAuB;;IACtE,MAAM,EAAE,IAAI,EAAE,YAAY,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,8HAAA,CAAA,eAAY,AAAD;IACnD,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE7C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;oCAAE;YACR,MAAM;sDAAY;oBAChB,IAAI;wBACF,yDAAyD;wBACzD,IAAI,CAAC,MAAM;4BACT,MAAM;wBACR;oBACF,EAAE,OAAO,OAAO;wBACd,2CAA2C;wBAC3C,OAAO,IAAI,CAAC;wBACZ;oBACF,SAAU;wBACR,cAAc;oBAChB;gBACF;;YAEA;QACF;mCAAG;QAAC;QAAM;QAAQ;KAAa;IAE/B,6CAA6C;IAC7C,IAAI,cAAc,SAAS;QACzB,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAE,WAAU;kCAAqB;;;;;;;;;;;;;;;;;IAI1C;IAEA,0DAA0D;IAC1D,IAAI,CAAC,MAAM;QACT,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAE,WAAU;kCAAqB;;;;;;;;;;;;;;;;;IAI1C;IAEA,qBAAO;kBAAG;;AACZ;GAjDwB;;QACkB,8HAAA,CAAA,eAAY;QACrC,qIAAA,CAAA,YAAS;;;KAFF","debugId":null}},
    {"offset": {"line": 139, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/MERN/relasto/frontend/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}